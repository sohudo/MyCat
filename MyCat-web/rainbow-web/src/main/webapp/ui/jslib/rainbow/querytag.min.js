var symbol_data=[{text:"等于",value:"="},{text:"不等于",value:"<>"},{text:"小于",value:"<"},{text:"小于等于",value:"<="},{text:"大于",value:">"},{text:"大于等于",value:">="},{text:"为空",value:"is null"},{text:"模糊",value:"like"},{text:"之间",value:"bt"}],combobox_symbol_data=[{text:"等于",value:"="}],dateBox_symbol_data=[{text:"等于",value:"="},{text:"小于",value:"<"},{text:"小于等于",value:"<="},{text:"大于",value:">"},{text:"之间",value:"bt"}],tag_query_remove=function(a,b){var h,i,j,k,c=$("#"+a),d=$(b).parent(),e=d.parent(),f=c.find("tr"),g=f.index(e[0]);for(d.remove(),h=0;h<f.length;h++)g>h||(i=$(f[h]),j=$(f[h+1]),j&&(k=j.find("td")[0],k&&i.append($(k)),0==j.children().length&&j.remove()))},tag_query_fieldName_value=function(a,b,c){var f,d=tag_query_initValue(b,c),e=a.valueType;switch(("baseCombobox"==e||"bizCombobox"==e)&&($("#"+b+"_symbol_combobox"+c).combobox("loadData",combobox_symbol_data),"bt"==d&&($("#"+b+"_tagNode"+c).remove(),$("#"+b+"_fieldValue"+c).css("width","230px")),$("#"+b+"_symbol_combobox"+c).combobox("setValue","=")),e){case"baseCombobox":f=a.valueCode,f&&$("#"+b+"_fieldValue"+c).combobox({url:"./dispatcherAction/comboxCode.do?code="+f,id:c,panelWidth:230,panelHeight:"auto",valueField:"value",textField:"text"});break;case"bizCombobox":$("#"+b+"_fieldValue"+c).combogrid({id:c,panelWidth:350,panelHeight:340,idField:a.bizComboxId,fitColumns:!0,textField:a.bizComboxText,pagination:!0,mode:"remote",url:"./dispatcherAction/query.do?service="+a.valueService+"&method="+a.valueMethod,columns:$.parseJSON(a.bizColumns)});break;case"dateBox":$("#"+b+"_symbol_combobox"+c).combobox("loadData",dateBox_symbol_data),d=$("#"+b+"_symbol_combobox"+c).combobox("getValue"),"bt"==d?($("#"+b+"_fieldValue"+c).datetimebox({panelWidth:230}),$("#"+b+"_endValue"+c).datetimebox({panelWidth:230})):$("#"+b+"_fieldValue"+c).datetimebox({panelWidth:230});break;default:$("#"+b+"_symbol_combobox"+c).combobox("loadData",symbol_data)}},tag_query_add=function(a,b,c,d){var e=$("#"+a),f=e.find("td").length;0==f%2?e.find("tr:last").after('<tr><td><b>属性：</b><input name="field" id="'+b+"_field_combobox"+c+'" style="width: 100px;"/>&nbsp;&nbsp;<b>条件：</b><input name="symbol" id="'+b+"_symbol_combobox"+c+'" style="width: 65px;" />&nbsp;&nbsp;<b>值：</b><input name="value" id="'+b+"_fieldValue"+c+'" style="width: 230px;" /><a href="javascript:void(0);"  id="'+b+"_removeButton"+c+'" onclick="tag_query_remove(\''+a+"',this)\"></a></td></tr>"):e.find("tr:last").append('<td><b>属性：</b><input id="'+b+"_field_combobox"+c+'" name="field" style="width: 100px;"/>&nbsp;&nbsp;<b>条件：</b><input name="symbol" id="'+b+"_symbol_combobox"+c+'" style="width: 65px;" />&nbsp;&nbsp;<b>值：</b><input name="value" id="'+b+"_fieldValue"+c+'" style="width: 230px;" /><a href="javascript:void(0);"  id="'+b+"_removeButton"+c+'" onclick="tag_query_remove(\''+a+"',this)\"></a></td>"),tag_query_createCombobox(b+"_field_combobox",b,c,140,"code","describe",null,d,tag_query_fieldName_value),tag_query_createCombobox(b+"_symbol_combobox",b,c,65,"value","text","=",symbol_data,tag_query_symbol_value),$("#"+b+"_removeButton"+c).linkbutton({iconCls:"icon-remove",plain:!0})},tag_query_symbol_value=function(a,b,c){var d,e;$("#"+b+"_fieldValue"+c).val(""),d=a.value,"bt"==d?(e=$("#"+b+"_fieldValue"+c).css("display"),"none"==e?($("#"+b+"_fieldValue"+c).datetimebox("destroy"),$("#"+b+"_removeButton"+c).before("<input id='"+b+"_fieldValue"+c+"' name='value' style='width: 100px;' /><span id='"+b+"_tagNode"+c+"'>至：<input id='"+b+"_endValue"+c+"' name='value' style='width: 100px;' /></span>"),$("#"+b+"_fieldValue"+c).datetimebox({panelWidth:230}),$("#"+b+"_endValue"+c).datetimebox({panelWidth:230})):($("#"+b+"_fieldValue"+c).css("width","100px"),$("#"+b+"_fieldValue"+c).after("<span id='"+b+"_tagNode"+c+"'>至：<input id='"+b+"_endValue"+c+"' name='value' style='width: 100px;' /></span>")),$("#"+b+"_fieldValue"+c).removeAttr("readOnly")):($("#"+b+"_tagNode"+c).length>0&&($("#"+b+"_tagNode"+c).remove(),$("#"+b+"_fieldValue"+c).css("width","230px"),$("#"+b+"_fieldValue"+c).removeAttr("readOnly")),"is null"==d&&$("#"+b+"_fieldValue"+c).attr("readOnly","readOnly"))},tag_query_createCombobox=function(a,b,c,d,e,f,g,h,i){$("#"+a+c).combobox({id:c,name:b,panelWidth:d,panelHeight:"auto",valueField:e,textField:f,value:g,data:h,onSelect:i})},tag_query_initValue=function(a,b){return $("#"+a+"_fieldValue"+b).removeAttr("readOnly"),$("#"+a+"_fieldValue"+b).combobox({}),$("#"+a+"_fieldValue"+b).combobox("destroy"),$("#"+a+"_removeButton"+b).before("<input id='"+a+"_fieldValue"+b+"' name='value' style='width: 230px;' />"),$("#"+a+"_symbol_combobox"+b).combobox("getValue")};